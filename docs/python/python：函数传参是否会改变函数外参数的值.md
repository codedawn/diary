python：函数传参是否会改变函数外参数的值

夏洛的网 2018-08-14 19:52:20  24694  收藏 54
分类专栏： python
版权

python
专栏收录该内容
7 篇文章0 订阅
订阅专栏
参考链接：

https://blog.csdn.net/u012614287/article/details/57149290

https://blog.csdn.net/qq915697213/article/details/66972836

1、介绍python函数传参
Python不允许程序员选择采用传值还是传引用。Python参数传递采用的肯定是“传对象引用”的方式。实际上，这种方式相当于传值和传引用的一种综合。如果函数收到的是一个可变对象（比如字典或者列表）的引用，就能修改对象的原始值——相当于通过“传引用”来传递对象。如果函数收到的是一个不可变对象（比如数字、字符或者元组）的引用，就不能直接修改原始对象——相当于通过“传值”来传递对象。

当人们复制列表或字典时，就复制了对象列表的引用同，如果改变引用的值，则修改了原始的参数。

为了简化内存管理，Python通过引用计数 机制实现自动垃圾回收功能，Python中的每个对象都有一个引用计数，用来计数该对象在不同场所分别被引用了多少次。每当引用一次Python对象，相应的引用计数就增1，每当消毁一次Python对象，则相应的引用就减1，只有当引用计数为零时，才真正从内存中删除Python对象。

上面也就是说，当我们传的参数是int、字符串(string)、float、（数值型number）、元组（tuple) 时，无论函数中对其做什么操作，都不会改变函数外这个参数的值；

当传的是字典型(dictionary)、列表型(list)时，如果是重新对其进行赋值，则不会改变函数外参数的值，如果是对其进行操作，则会改变。

即变量中存储的是引用 , 是指向真正内容的内存地址 , 对变量重新赋值 , 相当于修改了变量副本存储的内存地址 , 而这时的变量已经和函数体外的变量不是同一个了, 在函数体之外的变量 , 依旧存储的是原本的内存地址 , 其值自然没有发生改变 。

简单来说 :
- 函数体传入的参数 , 为函数体外变量引用的副本 .
- 在函数体中改变变量指向的堆中的值 , 对函数外变量有效.
- 在函数体中改变变量的引用 , 对函数外变量无效

2、代码举例子
2.1 字符串
def get(s1, s2):
    s1 = s1 + "haha"
    s2 = "haha"

s1 = "abc"
s2 = "abc"
print s1, s2
get(s1, s2)
print s1, s2
1
2
3
4
5
6
7
8
9
10


可以看出，没有发生变化

2.2 整型
def nunm(a, b):
    a = a + 1
    b = 3

a = 9
b = 9
print a, b
nunm(a, b)
print a, b
1
2
3
4
5
6
7
8
9


可以看到也没余发生变化

2.3 list
def lists(l1, l2):
    l1.append(1)
    l2 = [1, 2, 3]

list1 = [9, 8, 7]
list2 = [9, 8, 7]
print list1, list2
lists(list1, list2)
print list1, list2
1
2
3
4
5
6
7
8
9
10


可以看到，重新赋值后不会对原参数造成改变，但是append则会；
————————————————
原文链接：https://blog.csdn.net/liuxiao214/article/details/81673093